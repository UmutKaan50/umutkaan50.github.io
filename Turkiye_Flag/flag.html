<!DOCTYPE html>
<html>

<head>
    <!-- Vertex Shader Code -->
    <script id="vertex-shader" type="x-shader/x-vertex">

        attribute vec4 vPosition;
        uniform float uTime;
        uniform float uAmplitude;
        uniform float uWavelength;
        uniform float uFrequency;
        varying vec3 vColor; 

        void main() {
            // Calculate the sine of the x position and time, scaled by the wavelength and amplitude
            float wave = sin((vPosition.x / uWavelength * uFrequency) + (uTime * 3.0)) * uAmplitude;
        
            // Add the wave displacements to the y position
            vec4 newPosition = vPosition + vec4(0.0, wave, 0.0, 0.0);
        
            gl_Position = newPosition;

            float colorValue = (newPosition.x + 0.9) / 10.5; 

            // Set the varying variable to be the color based on the y position
            vColor = vec3(colorValue); 
        }
        
    </script>

    <!-- Vertex Shader Code For Blue Rectangle Background -->
    <script id="vertex-shader-background-rectangle" type="x-shader/x-vertex">
        attribute vec4 vPosition;
        void main() {
            gl_Position = vPosition;
        }
    </script>

    <!-- Fragment Shader Code For Blue Rectangle Background -->
    <script id="fragment-shader-background-rectangle" type="x-shader/x-fragment">
        precision mediump float;
        uniform vec3 uColor;
        void main() {
            gl_FragColor = vec4(uColor, 255.0);
        }
    </script>

    <!-- Fragment Shader Code First -->
    <script id="fragment-shader-first" type="x-shader/x-fragment">

        precision mediump float;

        varying vec3 vColor;
        uniform vec3 uColor;
        uniform float uTimeAnother;

        void main() {
        // Generate a time-based gradient value that oscillates between 0 and 1
        float gradient = 0.02 + 0.45 * sin(vColor.r * 47.0 + uTimeAnother * 2.5); 
        // Interpolate between black and white based on the gradient value
        vec3 newColor = -mix(vec3(0.3), vec3(1.0), gradient); 
        // Set the factor to control how much the black-white gradient affects the original red color
        float factor = 0.062; 
        gl_FragColor = vec4(mix(uColor * factor, mix(newColor, vec3(0.0), vColor.r), 1.0 - factor), 1.0);
        }

    </script>
    <!-- Fragment Shader Code Second -->
    <script id="fragment-shader-second" type="x-shader/x-fragment">

        precision mediump float;
        varying vec3 vColor;    
        uniform vec3 uColor;
    
        void main() {
            gl_FragColor = vec4(uColor, 1.0);
        }
    
        </script>

    <script type="text/javascript" src="flag.js"></script>
    <script type="text/javascript" src="initShaders.js"></script>
    <script type="text/javascript" src="webgl-utils.js"></script>

    <style>
        input {
            position: absolute;
            left: 1000px;
            right: 200px;
            top: 300px;
            width: 40px;
            background-color: red;
        }
    </style>
</head>

<!-- Body Part -->

<body>
    <h1 style="text-align: center; font-family: Arial, Helvetica, sans-serif; color: red;">Hi and
        welcome!</h1>

    <h3 style="text-align: center; font-family: Arial, Helvetica, sans-serif;">
        Press button 1 or 2 in your
        keyboard to
        activate or deactivate shading effect.</h3>
    <!-- <input type="text" id="keyboard-input"> -->

    <canvas id="gl-canvas" width="700" height="700" style="display: block; margin: 0 auto;">
        Oops ... your browser doesn't support the HTML5 canvas element
    </canvas>

</body>



</html>